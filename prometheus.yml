# Prometheus configuration example for Tado exporter

global:
  scrape_interval: 60s
  scrape_timeout: 15s
  evaluation_interval: 60s

# Alertmanager configuration (optional)
# alerting:
#   alertmanagers:
#     - static_configs:
#         - targets:
#             - localhost:9093

scrape_configs:
  # Tado exporter
  - job_name: 'tado'
    static_configs:
      - targets: ['localhost:9100']
    scrape_interval: 60s
    scrape_timeout: 15s

  # Prometheus self-metrics (optional)
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

# Example alert rules (optional)
# rule_files:
#   - 'tado_rules.yml'

# Example with service discovery (uncomment to use)
# scrape_configs:
#   - job_name: 'tado'
#     kubernetes_sd_configs:
#       - role: pod
#     relabel_configs:
#       - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]
#         action: keep
#         regex: true
#       - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]
#         action: replace
#         target_label: __metrics_path__
#         regex: (.+)
#       - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]
#         action: replace
#         regex: ([^:]+)(?::\d+)?;(\d+)
#         replacement: $1:$2
#         target_label: __address__
